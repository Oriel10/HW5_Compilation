
echo "--------------- Running Internal Tests ---------------"
for file in `ls  | grep in | cut -d"." -f1`; 
do

	./../hw5 < ${file}.in > ${file}.ll
	lli ${file}.ll > ${file}.mine
	DIFF=$(diff $file.mine ${file}.out)
		
	if [ "$DIFF" == "" ] 
	then
		echo "-- Test $file passed :D --"
	else
		echo "-- Test $file FAILED :'( --"
		echo ">>>our output<<<: "
		diff $file.mine ${file}.out
		echo ">>>test output<<<: "
		break
	fi
done
rm log.txt
